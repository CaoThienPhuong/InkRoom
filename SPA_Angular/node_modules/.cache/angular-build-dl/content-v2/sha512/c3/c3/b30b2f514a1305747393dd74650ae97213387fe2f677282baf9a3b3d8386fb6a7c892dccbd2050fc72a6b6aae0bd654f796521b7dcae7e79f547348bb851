(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"2zK7":function(e,t,n){"use strict";n.d(t,"a",function(){return r});class r{}},"7FIR":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("fXoL");let a=(()=>{class e{constructor(){}monthComparator(e,t){let n=new Date(e),r=new Date(t);return n.getMonth()===r.getMonth()?1:-1}addDays(e,t){let n=new Date(e);return n.setDate(n.getDate()+t),n}getMondaysInMonth(e){let t=e-1||(new Date).getMonth();1===e&&(t=0);let n=new Date((new Date).getFullYear(),t),r=n.getMonth(),a=[];for(n.setDate(1);1!==n.getDay();)n.setDate(n.getDate()+1);for(;n.getMonth()===r;)a.push(new Date(n.getTime())),n.setDate(n.getDate()+7);return this.toFormatDatesArray(a)}getWednesdaysInMonth(e){let t=[];return this.getMondaysInMonth(e).map(e=>{let n=this.addDays(e,1);1===this.monthComparator(e,n)&&t.push(n)}),this.toFormatDatesArray(t)}getTuesdaysInMonth(e){let t=[];return this.getMondaysInMonth(e).map(e=>{let n=this.addDays(e,2);1===this.monthComparator(e,n)&&t.push(n)}),this.toFormatDatesArray(t)}getThursdaysInMonth(e){let t=[];return this.getMondaysInMonth(e).map(e=>{let n=this.addDays(e,3);1===this.monthComparator(e,n)&&t.push(n)}),this.toFormatDatesArray(t)}getFridaysInMonth(e){let t=[];return this.getMondaysInMonth(e).map(e=>{let n=this.addDays(e,4);1===this.monthComparator(e,n)&&t.push(n)}),this.toFormatDatesArray(t)}getSaturdaysInMonth(e){let t=[];return this.getMondaysInMonth(e).map(e=>{let n=this.addDays(e,5);1===this.monthComparator(e,n)&&t.push(n)}),this.toFormatDatesArray(t)}getSundaysInMonth(e){let t=[];return this.getMondaysInMonth(e).map(e=>{let n=this.addDays(e,6);1===this.monthComparator(e,n)&&t.push(n)}),t}getDatesOfMonth(e=0){return 0===e?"#N/A":e+["#N/A","First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Nighth","Tenth","Eleventh","Twelfth","Thirteenth","Fourteenth","Fifteenth","Sixteenth","Seventeenth","Eighteenth","NineTeenth","Twentieth","Twenty-first","Twenty-second","Twenty-third","Twenty-fourth","Twenty-fifth","Twenty-sixth","Twenty-seventh","Twenty-eight","Twenty-nineth","Thirtieth","Thirty-first"].map(e=>e.substring(e.length-2,e.length))[e]}getFirstDateByMonth(e){let t=new Date((new Date).getFullYear(),e);return new Date(t.getFullYear(),t.getMonth(),1).toLocaleString()}getLastDateByMonth(e){let t=new Date((new Date).getFullYear(),e);return new Date(t.getFullYear(),t.getMonth()+1,0)}checkQuarterly(e,t){let n=["First quarter","Second quarter","Third quarter","Fourth quarter"],r=n.map(e=>e.substr(0,3)).indexOf(e);if(""===t)return{status:!1,quarter:n[r]};let a=new Date(t),o=a.getMonth()+1,i=a.getDate();if([1,2,3,4].includes(o)&&0===r){if(4===o&&1===i)return{status:!0,quarter:n[r]};if(o>=1&&o<=3)return{status:!0,quarter:n[r]}}if([4,5,6,7].includes(o)&&1===r){if(7===o&&1===i)return{status:!0,quarter:n[r]};if(o>=4&&o<=6)return{status:!0,quarter:n[r]}}if([7,8,9,10].includes(o)&&2===r){if(10===o&&1===i)return{status:!0,quarter:n[r]};if(o>=7&&o<=9)return{status:!0,quarter:n[r]}}return[10,11,12].includes(o)&&3===r?{status:!0,quarter:n[r]}:{status:!1,quarter:n[r]}}toFormatDatesArray(e){return e.map(e=>this.toFormatDate(e,!0))}toFormatDate(e,t=!0){if(""===(e||""))return"";let n=new Date(e),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=n.getDate(),o=n.getMonth(),i=n.getFullYear();return t?`${a} ${r[o]}, ${i}`:`${a} ${r[o]}`}getFirstDateLastDateQuarter(e){switch(e){case 1:return{firstDate:this.toFormatDate(this.getFirstDateByMonth(1)),lastDate:this.toFormatDate(this.getFirstDateByMonth(3))};case 2:return{firstDate:this.toFormatDate(this.getFirstDateByMonth(4)),lastDate:this.toFormatDate(this.getFirstDateByMonth(6))};case 3:return{firstDate:this.toFormatDate(this.getFirstDateByMonth(7)),lastDate:this.toFormatDate(this.getFirstDateByMonth(9))};case 4:return{firstDate:this.toFormatDate(this.getFirstDateByMonth(10)),lastDate:this.toFormatDate(this.getFirstDateByMonth(12))}}}getQuarter(e){return e=e||new Date,[1,2,3].includes(e.getMonth())?1:[4,5,6].includes(e.getMonth())?2:[7,8,9].includes(e.getMonth())?3:[10,11,12].includes(e.getMonth())?4:void 0}getDateInMonth(e){return new Date((new Date).getFullYear(),e,0).getDate()}toDateTimeNowISO(){let e=new Date;return e.toISOString(),e}toTitleCase(e){return e.replace(/\S+/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}convertDate(e){function t(e){return e<10?"0"+e:e}let n=new Date(e);return[t(n.getDate()),t(n.getMonth()+1),n.getFullYear()].join("/")}dateNow(e="/"){function t(e){return e<10?"0"+e:e}let n=new Date,r=n.getDate(),a=n.getMonth()+1,o=n.getFullYear();return t(a)+e+t(r)+e+o}dateFormat(e){let t,n,r,a=new Date(e);return t=a.getMonth()+1,t<10&&(r="0"+t),n=a.getDate()<10?"0"+a.getDate():a.getDate(),r+"-"+n+"-"+a.getFullYear()}JSONDateWithTime(e){let t,n,r,a=new Date(e);t=a.getMonth()+1,r=t<10?"0"+t:t,n=a.getDate()<10?"0"+a.getDate():a.getDate();let o=a.getFullYear(),i=`${n}/${r}/${o}`,s=a.getHours()<10?"0"+a.getHours():a.getHours(),c=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes(),l=a.getSeconds();i=s+":"+c+" - "+i;let u,h=new Date,g=h.getDate(),p=h.getMonth()+1,d=h.getFullYear(),b=h.getHours(),m=h.getMinutes(),f=h.getSeconds();return u=i,b-s==0&&m-c==0&&d-o==0&&p-r==0&&g-n==0&&(u=f-l==0?"just recently":f-l==1?f-l+" second ago":f-l+" seconds ago"),b-s==0&&m-c>0&&d-o==0&&p-r==0&&g-n==0&&(u=m-c==1?m-c+" minute ago":m-c+" minutes ago"),b-s>0&&d-o==0&&p-r==0&&g-n==0&&(u=b-s==1?b-s+" hour ago":b-s+" hours ago"),d-o==0&&p-r==0&&g-n>0&&g-n<=7&&(u=g-n==1?g-n+" day ago":g-n+" days ago"),d-o==0&&p!==r&&(n=g-n,n=30*(p-r)+n,0<n&&n<=7&&(u=n+" days ago")),u}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},AytR:function(e,t,n){"use strict";n.d(t,"a",function(){return o});const r="http://10.4.5.174:1092",a={INK_SYSTEM_CODE:4,apiUrlEC:`${r}/api/`,apiUrl:"http://10.4.5.174:1066/api/",hub:`${r}/ec-hub`},o={production:!0,enableDebug:!1,INK_SYSTEM_CODE:a.INK_SYSTEM_CODE,apiUrlEC:a.apiUrlEC,apiUrl:a.apiUrl,hub:a.hub}},HJFG:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("fXoL");let a=(()=>{class e{constructor(){this.$swal=Swal,this.Toast=Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:e=>{e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}})}confirm(e,t,n){Swal.fire({title:e,text:t,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(e=>{e.value?n():e.dismiss===Swal.DismissReason.cancel&&Swal.fire("Cancelled","Your imaginary file is safe :)","error")})}valid(e,t){return new Promise((n,r)=>{Swal.fire({title:e,text:t,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(e=>{e.value?n(!0):e.dismiss===Swal.DismissReason.cancel&&r(!1)})})}delete(e,t){return new Promise((n,r)=>{Swal.fire({title:e,text:t,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(e=>{e.value?n(!0):e.dismiss===Swal.DismissReason.cancel&&r(!1)})})}validation(e,t){Swal.fire(e,t,"warning")}success(e,t){t?Swal.fire("Successfully!",e,"success"):this.Toast.fire({icon:"success",title:e})}success2(e,t){t?Swal.fire(e):this.Toast.fire({title:e})}error(e,t){t?Swal.fire("Error!",e,"error"):this.Toast.fire({icon:"error",title:e})}warning(e,t){t?Swal.fire("Warning!",e,"warning"):this.Toast.fire({icon:"warning",title:e})}message(e,t){t?Swal.fire("Info!",e,"info"):this.Toast.fire({icon:"info",title:e})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},RnhZ:function(e,t,n){var r={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="RnhZ"},j7qE:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("lJxs"),a=n("Nm8O"),o=n("AytR"),i=n("2Vo4"),s=n("fXoL"),c=n("tk/3");let l=(()=>{class e{constructor(e){this.http=e,this.baseUrl=o.a.apiUrl+"auth/login",this.baseUrls=o.a.apiUrlEC,this.jwtHelper=new a.a,this.levelSource=new i.a({}),this.currentLevel=this.levelSource.asObservable()}login(e){return this.http.post(this.baseUrl,e).pipe(Object(r.a)(e=>{const t=e;t&&(localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),localStorage.setItem("avatar",t.user.User.image),this.decodedToken=this.jwtHelper.decodeToken(t.token),this.currentUser=t.user.User,this.getBuildingByUserID(t.user.User.ID).subscribe(e=>{e=e||{},localStorage.setItem("level",JSON.stringify(e)),this.levelSource.next(e)}),this.getRoleByUserID(t.user.User.ID).subscribe(e=>{e=e||{},localStorage.setItem("role",JSON.stringify(e)),this.levelSource.next(e)}))}))}getBuildingByUserID(e){return this.http.get(`${o.a.apiUrlEC}BuildingUser/GetBuildingByUserID/${e}`,{})}getRoleByUserID(e){return this.http.get(this.baseUrls+`BuildingUser/GetRoleByUserID/${e}`,{})}CheckBlockUser(e){return this.http.get(this.baseUrls+`BuildingUser/CheckLoginByUser/${e}`,{})}loggedIn(){const e=localStorage.getItem("token");return!this.jwtHelper.isTokenExpired(e)}roleMatch(e){let t=!1;const n=this.decodedToken.role;return e.forEach(e=>{n.includes(e)&&(t=!0)}),t}}return e.\u0275fac=function(t){return new(t||e)(s.dc(c.b))},e.\u0275prov=s.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},pvWG:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("JIr8"),a=n("LRne"),o=n("xiVD"),i=n("HJFG"),s=n("fXoL"),c=n("tyNb");let l=(()=>{class e{constructor(e,t,n){this.glueService=e,this.router=t,this.alertify=n,this.pageNumber=1,this.pageSize=10}resolve(e){return this.glueService.getGlues(this.pageNumber,this.pageSize).pipe(Object(r.a)(e=>(this.alertify.error("Problem retrieving data"),this.router.navigate(["/dashboard"]),Object(a.a)(null))))}}return e.\u0275fac=function(t){return new(t||e)(s.dc(o.a),s.dc(c.c),s.dc(i.a))},e.\u0275prov=s.Mb({token:e,factory:e.\u0275fac}),e})()},xiVD:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("tk/3"),a=n("2Vo4"),o=n("lJxs"),i=n("AytR"),s=n("2zK7"),c=n("fXoL");new r.e({"Content-Type":"application/json"});let l=(()=>{class e{constructor(e){this.http=e,this.baseUrl=i.a.apiUrlEC,this.glueSource=new a.a(0),this.currentGlue=this.glueSource.asObservable()}getGlues(e,t){const n=new s.a;let a=new r.f;return null!=e&&null!=t&&(a=a.append("pageNumber",e),a=a.append("pageSize",t)),this.http.get(this.baseUrl+"Glue/getGlues",{observe:"response",params:a}).pipe(Object(o.a)(e=>(n.result=e.body,null!=e.headers.get("Pagination")&&(n.pagination=JSON.parse(e.headers.get("Pagination"))),n)))}getAllGlue(){return this.http.get(this.baseUrl+"Glue/GetAll",{})}getGlueByScheduleID(e){return this.http.get(this.baseUrl+`Glue/GetGluesByScheduleID/${e}`,{})}getGlueByScheduleIDWithLocale(e,t){return this.http.get(this.baseUrl+`Glue/GetGluesByScheduleIDWithLocale/${e}/${t}`,{})}GetInkChemicalByGlueID(e){return this.http.get(this.baseUrl+`Glue/GetInkChemicalByGlueID/${e}`,{})}GetInkChemicalByGlueIDWithLocale(e,t){return this.http.get(this.baseUrl+`Glue/GetInkChemicalByGlueIDWithLocale/${e}/${t}`,{})}create(e){return this.http.post(this.baseUrl+"Glue/create",e)}create1(e){return this.http.post(this.baseUrl+"Glue/create1",e)}update(e){return this.http.put(this.baseUrl+"Glue/update",e)}updateChemical(e){return this.http.put(this.baseUrl+"Glue/updateChemical",e)}delete(e,t){return this.http.delete(this.baseUrl+`Glue/delete/${e}/${t}`)}saveGlue(e){return this.http.put(this.baseUrl+"Glue/saveGlue",e)}changeGlue(e){this.glueSource.next(e)}getGlueByModelName(e){return this.http.get(this.baseUrl+`Glue/GetGluesByModelNameID/${e}`,{})}getAllGluesForBPFC(e,t,n){return this.http.get(this.baseUrl+`Glue/GetAllGluesForBPFC/${e}/${t}/${n}`,{})}getAllGluesByBPFCID(e){return this.http.get(this.baseUrl+`Glue/getAllGluesByBPFCID/${e}`,{})}getAllPartName(){return this.http.get(this.baseUrl+"PartName/GetAll",{})}getAllPartName2(){return this.http.get(this.baseUrl+"PartName2/GetAll",{})}getAllMaterialName(){return this.http.get(this.baseUrl+"MaterialName/GetAll",{})}}return e.\u0275fac=function(t){return new(t||e)(c.dc(r.b))},e.\u0275prov=c.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("jhN1"),a=n("fXoL"),o=n("ofXK"),i=n("tk/3"),s=n("3Pt+"),c=n("Nm8O"),l=n("tyNb"),u=n("j7qE"),h=n("HJFG");let g=(()=>{class e{constructor(){this.startConnection=()=>{},this.startConnection()}joiGroup(e,t){this.hubConnection.invoke("JoinGroup",e.toString(),t.toString()).catch(e=>{console.error(e.toString())})}stopTyping(e,t){this.hubConnection.invoke("StopTyping",e.toString(),t.toString()).catch(e=>{console.error(e.toString())})}typing(e,t){this.hubConnection.invoke("Typing",e.toString(),t.toString()).catch(e=>{console.error(e.toString())})}sendToGroup(e,t,n){this.hubConnection.invoke("SendMessageToGroup",e.toString(),t,n.toString()).catch(e=>{console.error(e.toString())})}checkAlert(e){this.hubConnection.invoke("CheckAlert",e).catch(e=>{console.error(e.toString())})}receiveJoinGroup(e){this.hubConnection.on("ReceiveJoinGroup",e)}receiveTyping(e){this.hubConnection.on("ReceiveTyping",e)}receiveStopTyping(e){this.hubConnection.on("ReceiveStopTyping",e)}receiveMessageGroup(e){this.hubConnection.on("ReceiveMessageGroup",e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=n("2Vo4"),d=n("lJxs"),b=n("AytR");new i.e({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")});let m=(()=>{class e{constructor(e){this.http=e,this.baseUrl=b.a.apiUrl,this.messageSource=new p.a(null),this.currentMessage=this.messageSource.asObservable(),this.imgSource=new p.a(""),this.currentImage=this.imgSource.asObservable()}changeMessage(e){this.messageSource.next(e)}changeImage(e){this.imgSource.next(e)}getAllNotificationCurrentUser(e,t,n){return this.http.get(`${this.baseUrl}Home/getAllNotificationCurrentUser/${e}/${t}/${n}`).pipe(Object(d.a)(e=>e))}seen(e){return this.http.get(`${this.baseUrl}Home/Seen/${e.ID}`)}checkTask(e=0){return this.http.get(`${this.baseUrl}Home/TaskListIsLate`)}}return e.\u0275fac=function(t){return new(t||e)(a.dc(i.b))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=n("7FIR"),v=n("wd/R");class M{constructor(){this.Nav=[{id:1,title:"Home",path:"/admin/dash",icon:"fas fa-shopping-cart",status:!0,index:1,type:"admin"},{id:2,title:"Oc",path:"/admin/oc",icon:"fas fa-cog",status:!0,index:2,type:"admin"},{id:3,title:"User",path:"/admin/user",icon:"fas fa-users",status:!0,index:3,type:"admin"},{id:4,title:"OC User",path:"/admin/oc-user",icon:"fas fa-user",status:!0,index:4,type:"admin"},{id:5,title:"Role",path:"/admin/role",icon:"fas fa-shopping-cart",status:!0,index:5,type:"admin"},{id:6,title:"Project",path:"/project",icon:"fas fa-shopping-cart",status:!0,index:1,type:"client"},{id:7,title:"Routine",path:"/routine",icon:"fas fa-shopping-cart",status:!0,index:2,type:"client"},{id:8,title:"Abnormal",path:"/abnormal",icon:"fas fa-shopping-cart",status:!0,index:3,type:"client"},{id:9,title:"To Do List",path:"/todolist",icon:"fas fa-shopping-cart",status:!0,index:4,type:"client"},{id:10,title:"History",path:"/history",icon:"fas fa-shopping-cart",status:!0,index:5,type:"client"},{id:11,title:"Follow",path:"/follow",icon:"fas fa-shopping-cart",status:!0,index:6,type:"client"},{id:11,title:"Plan",path:"/ec/plan",icon:"fas fa-shopping-cart",status:!0,index:6,type:"ec"},{id:11,title:"Ingredient",path:"/ec/ingredient",icon:"fas fa-shopping-cart",status:!0,index:6,type:"ec"},{id:11,title:"Maintenance Data",path:"/ec/maintenace-data",icon:"fas fa-shopping-cart",status:!0,index:6,type:"ec"},{id:11,title:"Guidance",path:"/ec/guidance",icon:"fas fa-shopping-cart",status:!0,index:6,type:"ec"},{id:11,title:"Guidance v2",path:"/ec/line",icon:"fas fa-shopping-cart",status:!0,index:6,type:"ec"},{id:11,title:"Supplier",path:"/ec/supplier",icon:"fas fa-shopping-cart",status:!0,index:6,type:"ec"},{id:11,title:"PartName1",path:"/ec/partname-1",icon:"fas fa-shopping-cart",status:!0,index:6,type:"ec"},{id:11,title:"PartName2",path:"/ec/partname-2",icon:"fas fa-shopping-cart",status:!0,index:6,type:"ec"},{id:11,title:"MaterialName",path:"/ec/material-name",icon:"fas fa-shopping-cart",status:!0,index:6,type:"ec"},{id:11,title:"Model Name",path:"/ec/modal-name",icon:"fas fa-shopping-cart",status:!0,index:6,type:"ec"},{id:11,title:"Building",path:"/ec/building",icon:"fas fa-shopping-cart",status:!0,index:6,type:"admin"}]}getNavAdmin(e=!1){return this.Nav.filter(e?this.isAdmin:this.isAdminShowDash)}getNavClient(){return this.Nav.filter(this.isClient)}getNavEc(){return this.Nav.filter(this.isEc)}isAdminShowDash(e,t,n){return"admin"===e.type}isAdmin(e,t,n){return"admin"===e.type&&"Home"!==e.title}isClient(e,t,n){return"client"===e.type}isEc(e,t,n){return"ec"===e.type}}var C=n("2zK7");const y={headers:new i.e({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})};let S=(()=>{class e{constructor(e){this.http=e,this.baseUrl=b.a.apiUrl,this.messageSource=new p.a(0),this.currentMessage=this.messageSource.asObservable()}changeMessage(e){this.messageSource.next(e)}delete(e){return this.http.delete(`${this.baseUrl}Users/Delete/${e}`)}rename(e){return this.http.post(`${this.baseUrl}Users/rename`,e,{headers:y.headers})}update(e){return this.http.post(`${this.baseUrl}Users/Update`,e)}getUsers(e=1,t=10,n="%20"){return this.http.get(`${this.baseUrl}Users/GetAllPaging/${e}/${t}/${n}`)}create(e){return this.http.post(`${this.baseUrl}Users/Create`,e)}getAllUsers(e,t){const n=new C.a;return this.http.get(`${this.baseUrl}Users/GetAllUsers/4/${e}/${t}`,{observe:"response"}).pipe(Object(d.a)(e=>(n.result=e.body,null!=e.headers.get("Pagination")&&(n.pagination=JSON.parse(e.headers.get("Pagination"))),n)))}search(e,t,n="%20"){const r=new C.a;return this.http.get(`${this.baseUrl}Users/GetAllUsers/${e}/${t}/${n}`,{observe:"response"}).pipe(Object(d.a)(e=>(r.result=e.body,null!=e.headers.get("Pagination")&&(r.pagination=JSON.parse(e.headers.get("Pagination"))),r)))}changeAvatar(e){return this.http.post(this.baseUrl+"Users/ChangedAvatar",e)}getRole(){return this.http.get(`${this.baseUrl}Roles/GetAll`)}}return e.\u0275fac=function(t){return new(t||e)(a.dc(i.b))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var O=n("1kSV"),w=n("QYJQ"),k=n("rIor");const P=["defaultupload"];function D(e,t){if(1&e){const e=a.Xb();a.Wb(0,"image-cropper",13),a.gc("imageCropped",function(t){return a.Cc(e),a.jc().imageCropped(t)})("imageLoaded",function(){return a.Cc(e),a.jc().imageLoaded()})("cropperReady",function(){return a.Cc(e),a.jc().cropperReady()})("loadImageFailed",function(){return a.Cc(e),a.jc().loadImageFailed()}),a.Vb()}if(2&e){const e=a.jc();a.pc("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",4/3)}}function x(e,t){if(1&e&&(a.Wb(0,"div",14),a.Wb(1,"div",15),a.Rb(2,"img",16),a.Wb(3,"p",17),a.Jc(4,"Preview"),a.Vb(),a.Vb(),a.Vb()),2&e){const e=a.jc();a.Db(2),a.pc("src",e.croppedImage,a.Ec)}}function j(e,t){if(1&e&&(a.Wb(0,"div",14),a.Wb(1,"div",15),a.Rb(2,"img",18),a.Wb(3,"p",17),a.Jc(4,"Preview"),a.Vb(),a.Vb(),a.Vb()),2&e){const e=a.jc();a.Db(2),a.pc("src",e.croppedImage,a.Ec)}}function I(e,t){if(1&e){const e=a.Xb();a.Wb(0,"button",19),a.gc("click",function(){return a.Cc(e),a.jc().back()}),a.Jc(1,"Back"),a.Vb()}}function _(e,t){if(1&e){const e=a.Xb();a.Wb(0,"button",19),a.gc("click",function(){return a.Cc(e),a.jc().save()}),a.Jc(1,"Save"),a.Vb()}}function R(e,t){if(1&e){const e=a.Xb();a.Wb(0,"button",19),a.gc("click",function(){return a.Cc(e),a.jc().activeModal.close("Close click")}),a.Jc(1,"Cancel"),a.Vb()}}let U=(()=>{class e{constructor(e,t,n,r,a,o){this.activeModal=e,this.modalService=t,this.userService=n,this.headerService=r,this.alertify=a,this.sanitizer=o}ngOnInit(){}fileChangeEvent(e){this.show=!this.show,this.imageChangedEvent=e}imageCropped(e){this.croppedImage=e.base64}imageLoaded(){}cropperReady(){}loadImageFailed(){}back(){this.show=!this.show,this.imageChangedEvent="",this.croppedImage="",this.uploadObj.clearAll()}save(){const e={userid:JSON.parse(localStorage.getItem("user")).User.ID,imagebase64:this.croppedImage.replace("data:image/png;base64,","")};this.userService.changeAvatar(e).subscribe(e=>{console.log("changeAvatar: ",e),e?(this.alertify.success("The avatar has been uploaded!!"),this.headerService.changeImage(this.croppedImage),this.modalService.dismissAll()):this.alertify.warning("Failed to upload the avatar")})}openPreviewModal(){const t=this.modalService.open(e,{size:"lg"});t.componentInstance.title="Add Routine Main Task",t.result.then(e=>{console.log("openPreviewModal",e)},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(O.a),a.Qb(O.b),a.Qb(S),a.Qb(m),a.Qb(h.a),a.Qb(r.b))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-avatar-modal"]],viewQuery:function(e,t){if(1&e&&a.Pc(P,1),2&e){let e;a.yc(e=a.hc())&&(t.uploadObj=e.first)}},inputs:{name:"name"},decls:19,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[3,"change"],["defaultupload",""],[1,"col-lg-6"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped","imageLoaded","cropperReady","loadImageFailed",4,"ngIf"],["class","col-lg-3",4,"ngIf"],[1,"modal-footer","justify-content-between"],["type","button","class","btn btn-outline-dark",3,"click",4,"ngIf"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"col-lg-3"],[1,"text-center","align-content-center"],["width","100","height","100",1,"img-thumbnail",3,"src"],[1,"text-gray"],["width","100","height","100",1,"img-thumbnail",2,"border-radius","100%!important",3,"src"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Wb(1,"h4",1),a.Jc(2),a.Vb(),a.Wb(3,"button",2),a.gc("click",function(){return t.activeModal.dismiss("Cross click")}),a.Wb(4,"span",3),a.Jc(5,"\xd7"),a.Vb(),a.Vb(),a.Vb(),a.Wb(6,"div",4),a.Wb(7,"div",5),a.Wb(8,"div"),a.Wb(9,"ejs-uploader",6,7),a.gc("change",function(e){return t.fileChangeEvent(e)}),a.Vb(),a.Vb(),a.Wb(11,"div",8),a.Hc(12,D,1,3,"image-cropper",9),a.Vb(),a.Hc(13,x,5,1,"div",10),a.Hc(14,j,5,1,"div",10),a.Vb(),a.Vb(),a.Wb(15,"div",11),a.Hc(16,I,2,0,"button",12),a.Hc(17,_,2,0,"button",12),a.Hc(18,R,2,0,"button",12),a.Vb()),2&e&&(a.Db(2),a.Kc(t.name),a.Db(6),a.Fb(t.show?"d-none":"col-lg-12"),a.Db(4),a.pc("ngIf",t.show),a.Db(1),a.pc("ngIf",t.show),a.Db(1),a.pc("ngIf",t.show),a.Db(2),a.pc("ngIf",t.show),a.Db(1),a.pc("ngIf",t.show),a.Db(1),a.pc("ngIf",!t.show))},directives:[w.b,o.m,k.a],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{position:relative;width:100%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;background-color:transparent!important;pointer-events:none;touch-action:none;outline-width:100vw;outline-style:solid;outline-color:#fff;top:0;left:0}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline-color:hsla(0,0%,100%,.3);outline-width:100vw;outline-style:solid;touch-action:none}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid hsla(0,0%,100%,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid hsla(0,0%,100%,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw hsla(0,0%,100%,.3)}@media (orientation:portrait){[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh hsla(0,0%,100%,.3)}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}']}),e})(),A=(()=>{class e{constructor(){this.messageSource=new p.a(0),this.SourceLang=new p.a("en"),this.currentMessage=this.messageSource.asObservable(),this.currentSourceLang=this.SourceLang.asObservable()}changeMessage(e){this.messageSource.next(e)}changeLang(e){this.SourceLang.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var W=n("sYmb"),V=n("jcQU");const z=function(){return["/ink/setting/account-1"]};function T(e,t){1&e&&(a.Wb(0,"a",27),a.Jc(1),a.kc(2,"translate"),a.Vb()),2&e&&(a.pc("routerLink",a.tc(4,z)),a.Db(1),a.Kc(a.lc(2,2,"Account")))}const E=function(){return["/ink/setting/building"]},L=function(){return["/ink/setting/supplier"]},J=function(){return["/ink/setting/ink"]},F=function(){return["/ink/setting/chemical"]},N=function(){return["/ink/setting/treatment-way"]},B=function(){return["/ink/setting/treatment"]};function G(e,t){if(1&e&&(a.Wb(0,"li",23),a.Wb(1,"a",24),a.Jc(2),a.kc(3,"translate"),a.Vb(),a.Wb(4,"div",25),a.Hc(5,T,3,5,"a",26),a.Wb(6,"a",27),a.Jc(7),a.kc(8,"translate"),a.Vb(),a.Wb(9,"a",27),a.Jc(10),a.kc(11,"translate"),a.Vb(),a.Wb(12,"a",27),a.Jc(13),a.kc(14,"translate"),a.Vb(),a.Wb(15,"a",27),a.Jc(16),a.kc(17,"translate"),a.Vb(),a.Wb(18,"a",27),a.Jc(19,"Treatment Way"),a.Vb(),a.Wb(20,"a",27),a.Jc(21,"Treatment"),a.Vb(),a.Vb(),a.Vb()),2&e){const e=a.jc();a.Db(2),a.Lc(" ",a.lc(3,12,"SETTING")," "),a.Db(3),a.pc("ngIf",e.level===e.ADMIN||e.level===e.SUPERVISOR),a.Db(1),a.pc("routerLink",a.tc(22,E)),a.Db(1),a.Kc(a.lc(8,14,"BUILDING")),a.Db(2),a.pc("routerLink",a.tc(23,L)),a.Db(1),a.Kc(a.lc(11,16,"SUPPLIER")),a.Db(2),a.pc("routerLink",a.tc(24,J)),a.Db(1),a.Lc("",a.lc(14,18,"INK_LABEL")," "),a.Db(2),a.pc("routerLink",a.tc(25,F)),a.Db(1),a.Kc(a.lc(17,20,"CHEMICAL_LABEL")),a.Db(2),a.pc("routerLink",a.tc(26,N)),a.Db(2),a.pc("routerLink",a.tc(27,B))}}const $=function(){return["/ink/establish/schedule"]};function Q(e,t){1&e&&(a.Wb(0,"li",23),a.Wb(1,"a",28),a.Jc(2),a.kc(3,"translate"),a.Vb(),a.Wb(4,"div",25),a.Wb(5,"a",27),a.Jc(6),a.kc(7,"translate"),a.Vb(),a.Vb(),a.Vb()),2&e&&(a.Db(2),a.Lc(" ",a.lc(3,3,"ESTABLISH")," "),a.Db(3),a.pc("routerLink",a.tc(7,$)),a.Db(1),a.Kc(a.lc(7,5,"SCHEDULE_LABEL")))}const Y=function(){return["/ink/execution/stock"]},H=function(){return["/ink/execution/work-plan"]};function K(e,t){1&e&&(a.Wb(0,"li",23),a.Wb(1,"a",28),a.Jc(2," Excecution "),a.Vb(),a.Wb(3,"div",25),a.Wb(4,"a",27),a.Jc(5,"Stock"),a.Vb(),a.Wb(6,"a",27),a.Jc(7,"Work Plan"),a.Vb(),a.Vb(),a.Vb()),2&e&&(a.Db(4),a.pc("routerLink",a.tc(2,Y)),a.Db(2),a.pc("routerLink",a.tc(3,H)))}let q=(()=>{class e{constructor(e,t,n,r,a,o,i,s,c,l){this.authService=e,this.alertify=t,this.signalrService=n,this.headerService=r,this.calendarsService=a,this.sanitizer=o,this.router=i,this.modalService=s,this.translate=c,this.dataService=l,this.ADMIN=1,this.SUPERVISOR=2,this.STAFF=3,this.WORKER=5,this.fields={text:"name",value:"id"};const u=localStorage.getItem("lang");"en"===u?(this.value=u,c.setDefaultLang(u),c.use(u)):(this.value="vi",c.setDefaultLang("vi"),c.use("vi"))}ngOnInit(){this.langsData=[{id:"vi",name:"VI"},{id:"en",name:"EN"}],this.navAdmin=(new M).getNavAdmin(),this.navClient=(new M).getNavClient(),this.navEc=(new M).getNavEc(),this.getAvatar(),this.role=JSON.parse(localStorage.getItem("user")).User.Role,this.currentUser=JSON.parse(localStorage.getItem("user")).User.Username,this.page=1,this.pageSize=10,this.userid=JSON.parse(localStorage.getItem("user")).User.ID,this.getNotifications(),this.onService(),this.currentTime=v().format("LTS"),setInterval(()=>this.updateCurrentTime(),1e3)}ngAfterViewInit(){this.getBuilding();const e=localStorage.getItem("avatar");this.avatar="null"===e?this.defaultImage():this.sanitizer.bypassSecurityTrustResourceUrl("data:image/png;base64, "+e)}onChange(e){e.itemData&&(localStorage.removeItem("lang"),localStorage.setItem("lang",e.itemData.id),this.translate.use(e.itemData.id),this.dataService.changeLang(e.itemData.id),window.location.reload())}getBuilding(){const e=JSON.parse(localStorage.getItem("user")).User.ID;this.authService.getRoleByUserID(e).subscribe(e=>{(e=e||{})!=={}&&(this.level=e.id)})}onService(){this.headerService.currentImage.subscribe(e=>{e&&this.changeAvatar(e)})}changeAvatar(e){let t;e?(t=e.replace("data:image/png;base64,","").trim(),localStorage.removeItem("avatar"),localStorage.setItem("avatar",t),this.getAvatar()):this.avatar=this.defaultImage()}onScrollDown(){this.pageSize>=200?(this.pageSize-=10,this.getNotifications()):(this.pageSize+=10,this.getNotifications())}onScrollUp(){this.pageSize>=200?(this.pageSize-=10,this.getNotifications()):(this.pageSize+=10,this.getNotifications())}updateCurrentTime(){this.currentTime=v().format("LTS")}logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("avatar"),localStorage.removeItem("level"),localStorage.removeItem("role"),localStorage.removeItem("details"),localStorage.removeItem("lang"),localStorage.removeItem("ScaleMachine"),localStorage.removeItem("detailsTamp"),this.authService.decodedToken=null,this.authService.currentUser=null,this.alertify.message("Logged out"),this.router.navigate(["login"],{queryParams:{uri:this.router.url}})}openAvatarModal(){const e=this.modalService.open(U,{size:"lg"});e.componentInstance.title="Add Routine Main Task",e.result.then(e=>{},e=>{})}pushToMainPage(){const e=JSON.parse(localStorage.getItem("user")).User.Role;1===e?this.router.navigate(["/admin/dash"]):2===e&&this.router.navigate(["/todolist"])}checkServer(){JSON.parse(localStorage.getItem("user")),setInterval(()=>{this.checkAlert()},3e4)}checkAlert(){const e=JSON.parse(localStorage.getItem("user")).User.ID;this.signalrService.checkAlert(e)}getNotifications(){this.headerService.getAllNotificationCurrentUser(this.page,this.pageSize,this.userid).subscribe(e=>{this.data=e.model,this.total=e.total,this.totalCount=e.TotalCount})}defaultImage(){return this.sanitizer.bypassSecurityTrustResourceUrl("data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAJYAA\n      ACWBAMAAADOL2zRAAAAG1BMVEVsdX3////Hy86jqK1+ho2Ql521ur7a3N7s7e5Yhi\n      PTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABAElEQVRoge3SMW+DMBiE4YsxJqMJtH\n      OTITPeOsLQnaodGImEUMZEkZhRUqn92f0MaTubtfeMh/QGHANEREREREREREREtIJ\n      J0xbH299kp8l8FaGtLdTQ19HjofxZlJ0m1+eBKZcikd9PWtXC5DoDotRO04B9YOvF\n      IXmXLy2jEbiqE6Df7DTleA5socLqvEFVxtJyrpZFWz/pHM2CVte0lS8g2eDe6prOy\n      qPglhzROL+Xye4tmT4WvRcQ2/m81p+/rdguOi8Hc5L/8Qk4vhZzy08DduGt9eVQyP\n      2qoTM1zi0/uf4hvBWf5c77e69Gf798y08L7j0RERERERERERH9P99ZpSVRivB/rgAAAABJRU5ErkJggg==")}getAvatar(){const e=localStorage.getItem("avatar");this.avatar="null"===e?this.defaultImage():this.sanitizer.bypassSecurityTrustResourceUrl("data:image/png;base64, "+e)}imageBase64(e){return"null"===e?this.defaultImage():this.sanitizer.bypassSecurityTrustResourceUrl("data:image/png;base64, "+e)}datetime(e){return this.calendarsService.JSONDateWithTime(e)}checkTask(){this.headerService.checkTask(this.userid).subscribe(()=>{})}seen(e){this.headerService.seen(e).subscribe(e=>{this.page=1,this.data=[],this.getNotifications()});const t=e.URL.split("/")[1];e.URL.split("/"),this.router.navigate("project-detail"===t?[e.URL.replace("project-detail","project/detail")]:[e.URL])}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(u.a),a.Qb(h.a),a.Qb(g),a.Qb(m),a.Qb(f.a),a.Qb(r.b),a.Qb(l.c),a.Qb(O.b),a.Qb(W.d),a.Qb(A))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-header"]],decls:32,vars:12,consts:[[1,"main-header","navbar","navbar-expand-md","navbar-light","navbar-white"],[1,"container-fluid"],["href","/ec/guidance",1,"navbar-brand",2,"cursor","pointer"],["src","../../../../assets/img/logo-1.png","alt","AdminLTE Logo",1,"brand-image","img-circle",2,"opacity",".8"],[1,"brand-text","font-weight-light"],["type","button","data-toggle","collapse","data-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","order-1"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse","order-3"],[1,"navbar-nav"],["class","nav-item dropdown",4,"ngIf"],[1,"order-1","order-md-3","navbar-nav","navbar-no-expand","ml-auto"],[1,"nav-item",2,"width","70px"],["id","langs",3,"dataSource","value","fields","change"],["langs",""],[1,"nav-item","user-menu",3,"click"],[1,"nav-link"],[1,"fa","fa-sign-out"],[1,"user-image","img-circle","elevation-2",3,"src","alt"],[1,"font-weight-bold","text-danger"],[1,"nav-item"],[1,"font-weight-bold","text-info"],["href","javascript:;",1,"nav-link",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"nav-item","dropdown"],["id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle",2,"cursor","pointer"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item",3,"routerLink",4,"ngIf"],[1,"dropdown-item",3,"routerLink"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"]],template:function(e,t){1&e&&(a.Wb(0,"nav",0),a.Wb(1,"div",1),a.Wb(2,"a",2),a.Rb(3,"img",3),a.Wb(4,"span",4),a.Jc(5,"IRS"),a.Vb(),a.Vb(),a.Wb(6,"button",5),a.Rb(7,"span",6),a.Vb(),a.Wb(8,"div",7),a.Wb(9,"ul",8),a.Hc(10,G,22,28,"li",9),a.Hc(11,Q,8,8,"li",9),a.Hc(12,K,8,4,"li",9),a.Vb(),a.Vb(),a.Wb(13,"ul",10),a.Wb(14,"li",11),a.Wb(15,"ejs-dropdownlist",12,13),a.gc("change",function(e){return t.onChange(e)}),a.Vb(),a.Vb(),a.Wb(17,"li",14),a.gc("click",function(){return t.openAvatarModal()}),a.Wb(18,"a",15),a.Rb(19,"i",16),a.Rb(20,"img",17),a.Wb(21,"span",18),a.Jc(22),a.kc(23,"titlecase"),a.Vb(),a.Vb(),a.Vb(),a.Wb(24,"li",19),a.Wb(25,"a",15),a.Rb(26,"i",16),a.Wb(27,"span",20),a.Jc(28),a.Vb(),a.Vb(),a.Vb(),a.Wb(29,"li",19),a.Wb(30,"a",21),a.gc("click",function(){return t.logout()}),a.Rb(31,"i",22),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&e&&(a.Db(10),a.pc("ngIf",t.level===t.ADMIN||t.level===t.SUPERVISOR||t.level===t.STAFF||t.level===t.WORKER),a.Db(1),a.pc("ngIf",t.level===t.ADMIN||t.level===t.SUPERVISOR||t.level===t.STAFF||t.level===t.WORKER),a.Db(1),a.pc("ngIf",t.level===t.ADMIN||t.level===t.SUPERVISOR||t.level===t.STAFF||t.level===t.WORKER),a.Db(3),a.pc("dataSource",t.langsData)("value",t.value)("fields",t.fields),a.Db(5),a.pc("src",t.avatar,a.Ec)("alt",t.currentUser),a.Db(2),a.Kc(a.lc(23,10,t.currentUser)),a.Db(6),a.Kc(t.currentTime))},directives:[o.m,V.b,l.d],pipes:[o.u,W.c],styles:[".fix-width[_ngcontent-%COMP%]{max-width:800px!important;width:800px!important;height:500px!important}.fix-notify[_ngcontent-%COMP%], .fix-width[_ngcontent-%COMP%]{overflow-y:scroll!important;text-overflow:ellipsis}.fix-notify[_ngcontent-%COMP%]{min-width:800px!important;max-height:600px!important}"]}),e})();var X=n("pLZG"),Z=n("/uUt");function ee(e,t){if(1&e){const e=a.Xb();a.Wb(0,"li"),a.Wb(1,"a",6),a.gc("click",function(){a.Cc(e);const n=t.$implicit;return a.jc().gotoRouter(n)}),a.Jc(2),a.kc(3,"translate"),a.Vb(),a.Vb()}if(2&e){const e=t.$implicit;a.Db(2),a.Kc(a.lc(3,1,e.label))}}let te=(()=>{class e{constructor(e,t){this.router=e,this.activatedRoute=t,this.ADMIN=1,this.SUPERVISOR=2,this.STAFF=3,this.WORKER=4,this.breadcrumbs=this.buildBreadCrumb(this.activatedRoute.root)}ngOnInit(){this.router.events.pipe(Object(X.a)(e=>e instanceof l.b),Object(Z.a)()).pipe(Object(d.a)(()=>this.activatedRoute)).subscribe(e=>{this.breadcrumbs=this.buildBreadCrumb(this.activatedRoute.root)}),this.level=JSON.parse(localStorage.getItem("role")).id}buildBreadCrumb(e,t="",n=[]){let r=e.routeConfig&&e.routeConfig.data?e.routeConfig.data.breadcrumb:"",a=e.routeConfig&&e.routeConfig.data?"ec/"+e.routeConfig.path:"";const o=a.split("/").pop();if(o.startsWith(":")&&e.snapshot){const t=o.split(":")[1];a=a.replace(o,e.snapshot.params[t]),r=e.snapshot.params[t]}const i=a?`${t}/${a}`:t,s={label:r,url:i},c=s.label?[...n,s]:[...n];return e.firstChild?this.buildBreadCrumb(e.firstChild,i,c):c}gotoRouter(e){"Ingredient"===e.label&&this.router.navigate(["/ink/setting/ingredient"]),"Chemical"===e.label&&this.router.navigate(["/ink/setting/chemical"]),"Ink"===e.label&&this.router.navigate(["/ink/setting/ink"]),"Todolist"===e.label&&this.router.navigate(["/ink/execution/todolist"]),"Schedule"===e.label&&this.router.navigate(["/ink/establish/schedule"]),"Home"===e.label&&this.router.navigate(this.level===this.ADMIN||this.level===this.SUPERVISOR||this.level===this.STAFF?["/ink/establish/schedule"]:["/ink/execution/schedule"])}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(l.c),a.Qb(l.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-breadcrumb"]],decls:6,vars:1,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"breadcrumb","breadcrumb-arrow"],[4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Wb(3,"div",3),a.Wb(4,"ol",4),a.Hc(5,ee,4,3,"li",5),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&e&&(a.Db(5),a.pc("ngForOf",t.breadcrumbs))},directives:[o.l],pipes:[W.c],styles:['body[_ngcontent-%COMP%]{padding-top:100px}.breadcrumb-arrow[_ngcontent-%COMP%]{height:36px;padding:0;line-height:36px;list-style:none;margin-top:10px;background-color:#e6e9ed}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%]{border-radius:4px 0 0 4px;-webkit-border-radius:4px 0 0 4px;-moz-border-radius:4px 0 0 4px}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{padding:0;content:""}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 10px}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:first-child)   span[_ngcontent-%COMP%]{height:36px;padding:0 10px 0 25px;line-height:36px}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%]{padding:0 10px}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;color:#fff;text-decoration:none;background-color:#3bafda;border:1px solid #3bafda}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%]{padding-left:10px}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after, .breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{position:absolute;top:-1px;width:0;height:0;content:"";border-top:18px solid transparent;border-bottom:18px solid transparent}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{right:-10px;z-index:3;border-left:11px solid #3bafda}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{right:-11px;z-index:2;border-left:11px solid #2494be}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#4fc1e9;border:1px solid #4fc1e9}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:before, .breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:before{border-left-color:#4fc1e9}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#2494be;border:1px solid #2494be}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active:after, .breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active:before{border-left-color:#2494be}.breadcrumb-arrow[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#434a54}']}),e})(),ne=(()=>{class e{constructor(){this.currentYear=(new Date).getFullYear()}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Kb({type:e,selectors:[["app-footer"]],decls:12,vars:2,consts:[[1,"main-footer"],[1,"float-right","d-none","d-sm-inline"],[1,"fa","fa-users"],["src","../../../../assets/img/logo-1.png","alt","AdminLTE Logo","width","25","height","25",1,"img-circle",2,"opacity",".8"],[1,"text-danger"],["href","http://10.4.5.174:93/","target","_blank"]],template:function(e,t){1&e&&(a.Wb(0,"footer",0),a.Wb(1,"div",1),a.Rb(2,"i",2),a.Jc(3),a.Vb(),a.Rb(4,"img",3),a.Wb(5,"strong"),a.Jc(6),a.Wb(7,"span",4),a.Jc(8," (v1.0.0) "),a.Vb(),a.Wb(9,"a",5),a.Jc(10,"By Lab Team "),a.Vb(),a.Jc(11,"."),a.Vb(),a.Vb()),2&e&&(a.Db(3),a.Lc(" ",t.online," "),a.Db(3),a.Lc("Copyright \xa9 2020-",t.currentYear," "))},styles:[""]}),e})(),re=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Kb({type:e,selectors:[["app-layout"]],decls:9,vars:0,consts:[[1,"wrapper"],[1,"content-wrapper"],[1,"content-header"],[1,"content"],[1,"container-fluid"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Rb(1,"app-header"),a.Wb(2,"div",1),a.Wb(3,"div",2),a.Rb(4,"app-breadcrumb"),a.Vb(),a.Wb(5,"div",3),a.Wb(6,"div",4),a.Rb(7,"router-outlet"),a.Vb(),a.Vb(),a.Vb(),a.Rb(8,"app-footer"),a.Vb())},directives:[q,te,l.f,ne],styles:[""]}),e})();var ae=n("JqCM");let oe=(()=>{class e{constructor(e,t,n,r,a){this.route=e,this.router=t,this.authService=n,this.spinner=r,this.alertifyService=a,this.user={},this.routerLinkAdmin=["/setting/account-1","/setting/account-2","/setting/building","/setting/supplier","/setting/ingredient","/setting/ink","/setting/chemical","/setting/material","/establish/schedule","/manage/bpfc-status","/manage/bpfc-schedule","/manage/workplan","/manage/establish-record","/execution/todolist","/execution/addition","/report/consumption"],this.routerLinkSupervisor=["/setting/account-1","/setting/account-2","/setting/building","/setting/supplier","/setting/ingredient","/setting/ink","/setting/chemical","/setting/material","/establish/schedule","/manage/bpfc-status","/manage/bpfc-schedule","/manage/workplan","/manage/establish-record","/report/consumption","/execution/todolist","/execution/addition"],this.routerLinkStaff=["/setting/building","/setting/supplier","/setting/ingredient","/setting/ink","/setting/chemical","/setting/account-1","/establish/schedule","/manage/bpfc-status","/manage/bpfc-schedule","/manage/workplan","/manage/establish-record","/report/consumption","/execution/todolist","/execution/addition"],this.routerLinkWorker=["/ink/establish/schedule","/execution/addition"],this.route.queryParams.subscribe(e=>{this.uri=e.uri})}ngOnInit(){}login(){this.spinner.show(),this.authService.login(this.user).subscribe(e=>{this.authService.CheckBlockUser(JSON.parse(localStorage.getItem("user")).User.ID).subscribe(e=>JSON.parse(localStorage.getItem("user")).User.Systems.includes(4)?!1===e?this.alertifyService.warning("Your account has been Blocked! Please contact Admin to unlock Account!"):(this.role=JSON.parse(localStorage.getItem("user")).User.Role,this.alertifyService.success("Login Success!!"),void this.authService.getRoleByUserID(JSON.parse(localStorage.getItem("user")).User.ID).subscribe(e=>{if(e=e||{},localStorage.setItem("role",JSON.stringify(e)),this.level=e.id,5===this.level){const e=localStorage.getItem("lang");e?localStorage.setItem("lang",e):localStorage.setItem("lang","vi")}else{const e=localStorage.getItem("lang");e?localStorage.setItem("lang",e):localStorage.setItem("lang","vi")}this.checkRole()})):this.alertifyService.warning("Your account does not exist in this system!"))},e=>{console.log(e)})}checkRouteAdmin(e){let t=!1;return this.routerLinkAdmin.forEach(n=>{e.includes(n)&&(t=!0)}),t}CheckLogin(){this.authService.CheckBlockUser(JSON.parse(localStorage.getItem("user")).User.ID).subscribe(e=>{if(!1===e)return this.alertifyService.warning("Account has Bock! Please contact Admin to able Account!")})}checkRouteSupervisor(e){let t=!1;return this.routerLinkSupervisor.forEach(n=>{e.includes(n)&&(t=!0)}),t}checkRouteStaff(e){let t=!1;return this.routerLinkStaff.forEach(n=>{e.includes(n)&&(t=!0)}),t}checkRouteWorker(e){let t=!1;return this.routerLinkWorker.forEach(n=>{e.includes(n)&&(t=!0)}),t}checkRole(){const e=decodeURI(this.uri);1===this.level?"undefined"!==e&&this.checkRouteAdmin(e)?this.router.navigate([e]):this.router.navigate(["/ink/execution/work-plan"]):2===this.level?"undefined"!==e&&this.checkRouteSupervisor(e)?this.router.navigate([e]):this.router.navigate(["/ink/execution/work-plan"]):3===this.level?"undefined"!==e&&this.checkRouteStaff(e)?this.router.navigate([e]):this.router.navigate(["/ink/execution/work-plan"]):5===this.level&&("undefined"!==e&&this.checkRouteWorker(e)?this.router.navigate([e]):this.router.navigate(["/ink/execution/work-plan"])),this.spinner.hide()}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(l.a),a.Qb(l.c),a.Qb(u.a),a.Qb(ae.c),a.Qb(h.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-login"]],decls:26,vars:4,consts:[["bdColor","rgba(174,171,171,0.8)","size","medium","color","#166cc1","type","ball-climbing-dot",3,"fullScreen"],[2,"color","white"],[1,"login-page"],[1,"login-box",2,"margin-bottom","30vh"],[1,"card"],[1,"card-body","login-card-body"],[1,"text-muted",2,"font-size","20px"],[3,"ngSubmit"],["form","ngForm"],[1,"input-group","mb-3"],["type","text","required","","name","username","placeholder","Account",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text"],[1,"fas","fa-user"],["type","password","name","password","required","","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],[1,"fas","fa-lock"],[1,"row"],[1,"col-8"],[1,"col-4"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"]],template:function(e,t){if(1&e&&(a.Wb(0,"ngx-spinner",0),a.Wb(1,"p",1),a.Jc(2," Loading... "),a.Vb(),a.Vb(),a.Wb(3,"div",2),a.Wb(4,"div",3),a.Wb(5,"div",4),a.Wb(6,"div",5),a.Wb(7,"h3",6),a.Jc(8,"Ink Room System"),a.Vb(),a.Wb(9,"form",7,8),a.gc("ngSubmit",function(){return t.login()}),a.Wb(11,"div",9),a.Wb(12,"input",10),a.gc("ngModelChange",function(e){return t.user.username=e}),a.Vb(),a.Wb(13,"div",11),a.Wb(14,"div",12),a.Rb(15,"span",13),a.Vb(),a.Vb(),a.Vb(),a.Wb(16,"div",9),a.Wb(17,"input",14),a.gc("ngModelChange",function(e){return t.user.password=e}),a.Vb(),a.Wb(18,"div",11),a.Wb(19,"div",12),a.Rb(20,"span",15),a.Vb(),a.Vb(),a.Vb(),a.Wb(21,"div",16),a.Rb(22,"div",17),a.Wb(23,"div",18),a.Wb(24,"button",19),a.Jc(25," Sign In "),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&e){const e=a.zc(10);a.pc("fullScreen",!0),a.Db(12),a.pc("ngModel",t.user.username),a.Db(5),a.pc("ngModel",t.user.password),a.Db(7),a.pc("disabled",!e.valid)}},directives:[ae.a,s.t,s.m,s.n,s.b,s.r,s.l,s.o],styles:[".login-page[_ngcontent-%COMP%]{width:100%;background-repeat:no-repeat;background-size:100% 100%;background-image:url(/assets/img/SSB-background.jpg)}.card-body.login-card-body[_ngcontent-%COMP%]{background:hsla(0,0%,93%,.7);border:1px solid #ddd}"]}),e})(),ie=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Kb({type:e,selectors:[["app-p404"]],decls:19,vars:0,consts:[[1,"content"],[1,"error-page"],[1,"headline","text-warning"],[1,"error-content"],[1,"fas","fa-exclamation-triangle","text-warning"],["href","/"],[1,"search-form"],[1,"input-group"],["type","text","name","search","placeholder","Search",1,"form-control"],[1,"input-group-append"],["type","submit","name","submit",1,"btn","btn-warning"],[1,"fas","fa-search"]],template:function(e,t){1&e&&(a.Wb(0,"section",0),a.Wb(1,"div",1),a.Wb(2,"h2",2),a.Jc(3," 404"),a.Vb(),a.Wb(4,"div",3),a.Wb(5,"h3"),a.Rb(6,"i",4),a.Jc(7," Oops! Page not found."),a.Vb(),a.Wb(8,"p"),a.Jc(9," We could not find the page you were looking for. Meanwhile, you may "),a.Wb(10,"a",5),a.Jc(11,"return to login"),a.Vb(),a.Jc(12,". "),a.Vb(),a.Wb(13,"form",6),a.Wb(14,"div",7),a.Rb(15,"input",8),a.Wb(16,"div",9),a.Wb(17,"button",10),a.Rb(18,"i",11),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb())},directives:[s.t,s.m,s.n],styles:[""]}),e})(),se=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Kb({type:e,selectors:[["app-p500"]],decls:12,vars:0,consts:[[1,"content"],["href","mailto:sy.pham@shc.ssbshoes.com?cc=peter.tran@shc.ssbshoes.com;leo.doan@shc.ssbshoes.com\n              &subject=Maintenance%20Mode-Work%20Management%20System"]],template:function(e,t){1&e&&(a.Wb(0,"section",0),a.Wb(1,"article"),a.Wb(2,"h1"),a.Jc(3,"We\u2019ll be back soon!"),a.Vb(),a.Wb(4,"div"),a.Wb(5,"p"),a.Jc(6," Sorry for the inconvenience but we\u2019re performing some maintenance at the moment. If you need to you can always "),a.Wb(7,"a",1),a.Jc(8,"contact us"),a.Vb(),a.Jc(9," otherwise we\u2019ll be back online shortly! "),a.Vb(),a.Wb(10,"p"),a.Jc(11,"\u2014 The Team"),a.Vb(),a.Vb(),a.Vb(),a.Vb())},styles:[".content[_ngcontent-%COMP%]{text-align:center;padding:150px}h1[_ngcontent-%COMP%]{font-size:50px!important}.content[_ngcontent-%COMP%]{font:20px Helvetica,sans-serif;color:#333}article[_ngcontent-%COMP%]{display:block;text-align:left;width:650px;margin:0 auto}a[_ngcontent-%COMP%]{color:#dc8100}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#333}"]}),e})(),ce=(()=>{class e{constructor(e,t,n){this.authService=e,this.router=t,this.route=n}canActivate(e,t){return!!this.authService.loggedIn()||(this.router.navigate(["login"],{queryParams:{uri:t.url}}),!1)}}return e.\u0275fac=function(t){return new(t||e)(a.dc(u.a),a.dc(l.c),a.dc(l.a))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var le=n("LRne");let ue=(()=>{class e{constructor(){this.preloadedModules=[]}preload(e,t){return e.data&&e.data.preload?(this.preloadedModules.push(e.path),console.log("Preloaded: "+e.path),t()):Object(le.a)(null)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const he=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"",component:re,runGuardsAndResolvers:"always",canActivate:[ce],children:[{path:"ink",loadChildren:()=>n.e(6).then(n.bind(null,"ht01")).then(e=>e.ECModule)}]},{path:"login",component:oe,data:{title:"Login"}},{path:"404",component:ie,data:{title:"Not Found"}},{path:"500",component:se,data:{title:"Server Error"}},{path:"**",redirectTo:"404",pathMatch:"full"}];let ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({imports:[[l.e.forRoot(he,{preloadingStrategy:ue,paramsInheritanceStrategy:"always",relativeLinkResolution:"legacy"})],l.e]}),e})(),pe=(()=>{class e{constructor(){this.title="WM"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Kb({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&a.Rb(0,"router-outlet")},directives:[l.f],styles:[""]}),e})();var de=n("z6cu"),be=n("JIr8");const me={provide:i.a,useClass:(()=>{class e{intercept(e,t){return t.handle(e).pipe(Object(be.a)(e=>{if(e instanceof i.d){if(401===e.status)return Object(de.a)(e.statusText);const t=e.headers.get("Application-Error");if(t)return console.error(t),Object(de.a)(t);const n=e.error;let r="";if(n&&"object"==typeof n)for(const e in n)n[e]&&(r+=n[e]+"\n");return Object(de.a)(r||n||"Server Error")}}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac}),e})(),multi:!0};var fe=n("R1ws"),ve=n("jxiw"),Me=n("QUrN"),Ce=n("dlKe");let ye=(()=>{class e{constructor(e,t,n){this.todolistService=e,this.router=t,this.alertify=n,this.page=1,this.pageSize=10}resolve(e){return this.todolistService.getAllUsers(this.page,this.pageSize).pipe(Object(be.a)(e=>(console.log(e),this.alertify.error("Problem retrieving data"),localStorage.removeItem("user"),localStorage.removeItem("token"),this.router.navigate(["/login"]),Object(le.a)(null))))}}return e.\u0275fac=function(t){return new(t||e)(a.dc(S),a.dc(l.c),a.dc(h.a))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac}),e})();var Se=n("un/a");let Oe=(()=>{class e{constructor(e,t){this.alertify=e,this.spinner=t}intercept(e,t){return localStorage.getItem("token")&&(e=e.clone({setHeaders:{Authorization:`Bearer ${localStorage.getItem("token")}`}})),t.handle(e).pipe(Object(Se.a)(1),Object(be.a)(e=>{let t="";if(e.error instanceof ErrorEvent)t=`Error: ${e.error.message}`;else if(t=`Error Status: ${e.status}\nMessage: ${e.message}`,0===e.status)return console.log(e.status),this.alertify.error("L\u1ed7i m\xe1y ch\u1ee7 vui l\xf2ng t\u1ea3i l\u1ea1i trang (nh\u1ea5n F5) v\xe0 ch\u1edd trong \xedt ph\xfat! <br> Server error!",!0),this.spinner.hide(),Object(de.a)(t);return console.log(e.status),this.alertify.error(`L\u1ed7i m\xe1y ch\u1ee7 vui l\xf2ng t\u1ea3i l\u1ea1i trang (nh\u1ea5n F5) v\xe0 ch\u1edd trong \xedt ph\xfat! <br> Server error!<br>${t}`,!0),this.spinner.hide(),Object(de.a)(t)}))}}return e.\u0275fac=function(t){return new(t||e)(a.dc(h.a),a.dc(ae.c))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac}),e})(),we=(()=>{class e{constructor(e){this.http=e,this.baseUrl=b.a.apiUrl,this.messageSource=new p.a(0),this.currentMessage=this.messageSource.asObservable()}changeMessage(e){this.messageSource.next(e)}delete(e){return this.http.delete(`${this.baseUrl}Roles/DeleteRole/${e}`)}update(e){return this.http.post(`${this.baseUrl}Roles/Update`,e)}create(e){return this.http.post(`${this.baseUrl}Roles/Create`,e)}getRoles(e,t){const n=new C.a;return this.http.get(`${this.baseUrl}Roles/GetRoles/${e}/${t}`,{observe:"response"}).pipe(Object(d.a)(e=>(n.result=e.body,null!=e.headers.get("Pagination")&&(n.pagination=JSON.parse(e.headers.get("Pagination"))),n)))}search(e,t,n="%20"){const r=new C.a;return this.http.get(`${this.baseUrl}Roles/GetRoles/${e}/${t}/${n}`,{observe:"response"}).pipe(Object(d.a)(e=>(r.result=e.body,null!=e.headers.get("Pagination")&&(r.pagination=JSON.parse(e.headers.get("Pagination"))),r)))}}return e.\u0275fac=function(t){return new(t||e)(a.dc(i.b))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ke=(()=>{class e{constructor(e,t,n){this.roleService=e,this.router=t,this.alertify=n,this.page=1,this.pageSize=10}resolve(e){return this.roleService.getRoles(this.page,this.pageSize).pipe(Object(be.a)(e=>(console.log(e),this.alertify.error("Problem retrieving data"),localStorage.removeItem("user"),localStorage.removeItem("token"),this.router.navigate(["/login"]),Object(le.a)(null))))}}return e.\u0275fac=function(t){return new(t||e)(a.dc(we),a.dc(l.c),a.dc(h.a))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac}),e})();var Pe=n("z3KA"),De=n("pvWG"),xe=n("mqiu");function je(){return localStorage.getItem("token")}function Ie(e){return new xe.a(e,"./assets/i18n/",".json")}let _e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Ob({type:e,bootstrap:[pe]}),e.\u0275inj=a.Nb({providers:[h.a,ce,ae.c,me,ye,ke,u.a,De.a,{provide:i.a,useClass:Oe,multi:!0}],imports:[[ae.b,r.a,fe.a,ge,s.h,s.q,o.c,V.d,V.a,V.e,i.c,ve.a,Me.a,Ce.a,Pe.a,k.b,w.c,W.b.forRoot({loader:{provide:W.a,useFactory:Ie,deps:[i.b]},defaultLanguage:"vi"}),c.b.forRoot({config:{tokenGetter:je}})]]}),e})();b.a.production&&Object(a.V)(),r.c().bootstrapModule(_e).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0,5]]]);