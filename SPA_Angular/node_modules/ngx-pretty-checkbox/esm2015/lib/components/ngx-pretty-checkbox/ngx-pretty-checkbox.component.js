import { Component, ContentChild, ContentChildren, ElementRef, EventEmitter, Input, Output, ViewChild, ViewEncapsulation, Attribute, Renderer2, ChangeDetectorRef } from '@angular/core';
import { NgxPrettyIconDirective } from '../../directives/ngx-pretty-icon.directive';
import { NgxPrettyImageDirective } from '../../directives/ngx-pretty-image.directive';
import { NgxPrettySvgDirective } from '../../directives/ngx-pretty-svg.directive';
import { PrettyCheckboxAnimation, PrettyCheckboxColor, PrettyCheckboxShape, PrettyCheckboxStroke } from '../../model/interfaces';
import { strToBoolean } from '../../utility';
import { NgxPrettyHoverWillChangeComponent } from '../ngx-pretty-hover-will-change/ngx-pretty-hover-will-change.component';
import { NgxPrettyHoverComponent } from '../ngx-pretty-hover/ngx-pretty-hover.component';
import { NgxPrettyIndeterminateWillChangeComponent } from '../ngx-pretty-Indeterminate-will-change/ngx-pretty-Indeterminate-will-change.component';
import { NgxPrettyIndeterminateComponent } from '../ngx-pretty-Indeterminate/ngx-pretty-Indeterminate.component';
import { NgxPrettyToggleWillChangeComponent } from '../ngx-pretty-toggle-will-change/ngx-pretty-toggle-will-change.component';
import { NgxPrettyToggleComponent } from '../ngx-pretty-toggle/ngx-pretty-toggle.component';
export class NgxPrettyCheckboxComponent {
    constructor(renderer, el, cd, _stroke, _shape, _animation, _isSwitch = false, _bigger = false, _enableFocus = false, _plain = false, _outline = false, _color) {
        this.renderer = renderer;
        this.el = el;
        this.cd = cd;
        this._stroke = _stroke;
        this._shape = _shape;
        this._animation = _animation;
        this._isSwitch = _isSwitch;
        this._bigger = _bigger;
        this._enableFocus = _enableFocus;
        this._plain = _plain;
        this._outline = _outline;
        this._color = _color;
        this.checked = false;
        this.disabled = false;
        // @HostBinding(`class.p-locked`)
        this.lock = false;
        this.change = new EventEmitter();
        this._isSwitch = strToBoolean(this._isSwitch);
        this._bigger = strToBoolean(this._bigger);
        this._enableFocus = strToBoolean(this._enableFocus);
        this._plain = strToBoolean(this._plain);
        this._outline = strToBoolean(this._outline);
    }
    ngAfterViewInit() {
        const el = this.el.nativeElement;
        if (this._isSwitch) {
            this.renderer.addClass(el, `p-switch`);
        }
        if (this._bigger) {
            this.renderer.addClass(el, `p-bigger`);
        }
        if (this._enableFocus) {
            this.renderer.addClass(el, `p-has-focus`);
        }
        if (this._plain) {
            this.renderer.addClass(el, `p-plain`);
        }
        if (this._stroke) {
            this.renderer.addClass(el, `p-${this._stroke}`);
        }
        if (this._shape) {
            this.renderer.addClass(el, `p-${this._shape}`);
        }
        if (this._animation) {
            this.renderer.addClass(el, `p-${this._animation}`);
        }
        if (this._iconDir) {
            this.renderer.addClass(el, `p-icon`);
        }
        if (this._svgDir) {
            this.renderer.addClass(el, `p-svg`);
        }
        if (this._imgDir) {
            this.renderer.addClass(el, `p-image`);
        }
        if (this._hoverDir || this._hoverWillChangeDir) {
            this.renderer.addClass(el, `p-has-hover`);
        }
        if (this._indeterminateDir || this._indeterminateWillChangeDir) {
            this.renderer.addClass(el, `p-has-indeterminate`);
        }
        if (this._isToggle) {
            this.renderer.addClass(el, `p-toggle`);
        }
        if (!this._isSwitch && !this._iconDir && !this._svgDir && !this._imgDir) {
            this.renderer.addClass(el, `p-default`);
        }
        // STATE ELEM
        if (this._color && !this._isToggle) {
            this.renderer.addClass(this._stateElem.nativeElement, `p-${this._color}${this._outline ? '-o' : ''}`);
        }
    }
    // ---------- PRIVATE METHODS ---------
    _onChange(event, checked, value) {
        // I stop propagation on the change event.
        // Otherwise the change event, from the input element, will bubble up and
        event.stopPropagation();
        this.checked = checked;
        this.change.emit({ value, checked, event });
    }
    get _isToggle() { return this._toggleComps.length === 2 || this._toggleWillChangeComps.length === 2; }
    // ---------- PUBLIC METHODS ---------
    setIndeterminate(value = true) {
        this._inputElem.nativeElement.indeterminate = value;
    }
    forceCheck(check) {
        this.checked = check;
        this.cd.markForCheck();
    }
}
NgxPrettyCheckboxComponent.decorators = [
    { type: Component, args: [{
                selector: 'ngx-pretty-checkbox:not([will-change]), p-checkbox:not([will-change])',
                template: "<input\r\n  #inputElem\r\n  type=\"checkbox\"\r\n  [value]=\"value\"\r\n  [checked]=\"checked\"\r\n  [disabled]=\"disabled\"\r\n  (change)=\"_onChange($event, inputElem.checked, inputElem.value)\"/>\r\n\r\n<div #stateElem *ngIf=\"!_isToggle\" class=\"state\">\r\n\r\n  <ng-content select=\"[pIcon], [p-icon], [pSvg], [p-svg], [pImage], [p-image]\"></ng-content>\r\n  <label><ng-content></ng-content></label>\r\n\r\n</div>\r\n\r\n<ng-content select=\"ngx-p-indeterminate, p-indeterminate, ngx-p-hover, p-hover, ngx-p-toggle, p-toggle\"></ng-content>\r\n",
                encapsulation: ViewEncapsulation.None,
                host: {
                    'class': 'pretty',
                    '[class.p-locked]': 'lock'
                },
                exportAs: 'ngxPrettyCheckbox'
            },] }
];
NgxPrettyCheckboxComponent.ctorParameters = () => [
    { type: Renderer2 },
    { type: ElementRef },
    { type: ChangeDetectorRef },
    { type: PrettyCheckboxStroke, decorators: [{ type: Attribute, args: ['stroke',] }] },
    { type: PrettyCheckboxShape, decorators: [{ type: Attribute, args: ['shape',] }] },
    { type: PrettyCheckboxAnimation, decorators: [{ type: Attribute, args: ['animation',] }] },
    { type: undefined, decorators: [{ type: Attribute, args: ['isSwitch',] }] },
    { type: undefined, decorators: [{ type: Attribute, args: ['bigger',] }] },
    { type: undefined, decorators: [{ type: Attribute, args: ['enableFocus',] }] },
    { type: undefined, decorators: [{ type: Attribute, args: ['plain',] }] },
    { type: undefined, decorators: [{ type: Attribute, args: ['outline',] }] },
    { type: PrettyCheckboxColor, decorators: [{ type: Attribute, args: ['color',] }] }
];
NgxPrettyCheckboxComponent.propDecorators = {
    checked: [{ type: Input }],
    disabled: [{ type: Input }],
    value: [{ type: Input }],
    lock: [{ type: Input }],
    _inputElem: [{ type: ViewChild, args: ['inputElem', { static: true },] }],
    _stateElem: [{ type: ViewChild, args: ['stateElem', { static: false },] }],
    change: [{ type: Output }],
    _iconDir: [{ type: ContentChild, args: [NgxPrettyIconDirective, { static: false },] }],
    _svgDir: [{ type: ContentChild, args: [NgxPrettySvgDirective, { static: false },] }],
    _imgDir: [{ type: ContentChild, args: [NgxPrettyImageDirective, { static: false },] }],
    _hoverDir: [{ type: ContentChild, args: [NgxPrettyHoverComponent, { static: false },] }],
    _hoverWillChangeDir: [{ type: ContentChild, args: [NgxPrettyHoverWillChangeComponent, { static: false },] }],
    _indeterminateDir: [{ type: ContentChild, args: [NgxPrettyIndeterminateComponent, { static: false },] }],
    _indeterminateWillChangeDir: [{ type: ContentChild, args: [NgxPrettyIndeterminateWillChangeComponent, { static: false },] }],
    _toggleComps: [{ type: ContentChildren, args: [NgxPrettyToggleComponent,] }],
    _toggleWillChangeComps: [{ type: ContentChildren, args: [NgxPrettyToggleWillChangeComponent,] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXByZXR0eS1jaGVja2JveC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtcHJldHR5LWNoZWNrYm94L3NyYy9saWIvY29tcG9uZW50cy9uZ3gtcHJldHR5LWNoZWNrYm94L25neC1wcmV0dHktY2hlY2tib3guY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxTQUFTLEVBQ1QsWUFBWSxFQUNaLGVBQWUsRUFDZixVQUFVLEVBQ1YsWUFBWSxFQUNaLEtBQUssRUFDTCxNQUFNLEVBRU4sU0FBUyxFQUNULGlCQUFpQixFQUNqQixTQUFTLEVBRVQsU0FBUyxFQUNULGlCQUFpQixFQUNoQixNQUFNLGVBQWUsQ0FBQztBQUN6QixPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw0Q0FBNEMsQ0FBQztBQUNwRixPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSw2Q0FBNkMsQ0FBQztBQUN0RixPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSwyQ0FBMkMsQ0FBQztBQUNsRixPQUFPLEVBQUUsdUJBQXVCLEVBQXdCLG1CQUFtQixFQUFFLG1CQUFtQixFQUFFLG9CQUFvQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDdkosT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3QyxPQUFPLEVBQUUsaUNBQWlDLEVBQUUsTUFBTSx3RUFBd0UsQ0FBQztBQUMzSCxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxnREFBZ0QsQ0FBQztBQUN6RixPQUFPLEVBQUUseUNBQXlDLEVBQUUsTUFBTSx3RkFBd0YsQ0FBQztBQUNuSixPQUFPLEVBQUUsK0JBQStCLEVBQUUsTUFBTSxnRUFBZ0UsQ0FBQztBQUNqSCxPQUFPLEVBQUUsa0NBQWtDLEVBQUUsTUFBTSwwRUFBMEUsQ0FBQztBQUM5SCxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxr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Q2hpbGQsXHJcbiAgQ29udGVudENoaWxkcmVuLFxyXG4gIEVsZW1lbnRSZWYsXHJcbiAgRXZlbnRFbWl0dGVyLFxyXG4gIElucHV0LFxyXG4gIE91dHB1dCxcclxuICBRdWVyeUxpc3QsXHJcbiAgVmlld0NoaWxkLFxyXG4gIFZpZXdFbmNhcHN1bGF0aW9uLFxyXG4gIEF0dHJpYnV0ZSxcclxuICBBZnRlclZpZXdJbml0LFxyXG4gIFJlbmRlcmVyMixcclxuICBDaGFuZ2VEZXRlY3RvclJlZlxyXG4gIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE5neFByZXR0eUljb25EaXJlY3RpdmUgfSBmcm9tICcuLi8uLi9kaXJlY3RpdmVzL25neC1wcmV0dHktaWNvbi5kaXJlY3RpdmUnO1xyXG5pbXBvcnQgeyBOZ3hQcmV0dHlJbWFnZURpcmVjdGl2ZSB9IGZyb20gJy4uLy4uL2RpcmVjdGl2ZXMvbmd4LXByZXR0eS1pbWFnZS5kaXJlY3RpdmUnO1xyXG5pbXBvcnQgeyBOZ3hQcmV0dHlTdmdEaXJlY3RpdmUgfSBmcm9tICcuLi8uLi9kaXJlY3RpdmVzL25neC1wcmV0dHktc3ZnLmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7IFByZXR0eUNoZWNrYm94QW5pbWF0aW9uLCBQcmV0dHlDaGVja0JveENoYW5nZSwgUHJldHR5Q2hlY2tib3hDb2xvciwgUHJldHR5Q2hlY2tib3hTaGFwZSwgUHJldHR5Q2hlY2tib3hTdHJva2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pbnRlcmZhY2VzJztcclxuaW1wb3J0IHsgc3RyVG9Cb29sZWFuIH0gZnJvbSAnLi4vLi4vdXRpbGl0eSc7XHJcbmltcG9ydCB7IE5neFByZXR0eUhvdmVyV2lsbENoYW5nZUNvbXBvbmVudCB9IGZyb20gJy4uL25neC1wcmV0dHktaG92ZXItd2lsbC1jaGFuZ2Uvbmd4LXByZXR0eS1ob3Zlci13aWxsLWNoYW5nZS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBOZ3hQcmV0dHlIb3ZlckNvbXBvbmVudCB9IGZyb20gJy4uL25neC1wcmV0dHktaG92ZXIvbmd4LXByZXR0eS1ob3Zlci5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBOZ3hQcmV0dHlJbmRldGVybWluYXRlV2lsbENoYW5nZUNvbXBvbmVudCB9IGZyb20gJy4uL25neC1wcmV0dHktSW5kZXRlcm1pbmF0ZS13aWxsLWNoYW5nZS9uZ3gtcHJldHR5LUluZGV0ZXJtaW5hdGUtd2lsbC1jaGFuZ2UuY29tcG9uZW50JztcclxuaW1wb3J0IHsgTmd4UHJldHR5SW5kZXRlcm1pbmF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL25neC1wcmV0dHktSW5kZXRlcm1pbmF0ZS9uZ3gtcHJldHR5LUluZGV0ZXJtaW5hdGUuY29tcG9uZW50JztcclxuaW1wb3J0IHsgTmd4UHJldHR5VG9nZ2xlV2lsbENoYW5nZUNvbXBvbmVudCB9IGZyb20gJy4uL25neC1wcmV0dHktdG9nZ2xlLXdpbGwtY2hhbmdlL25neC1wcmV0dHktdG9nZ2xlLXdpbGwtY2hhbmdlLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IE5neFByZXR0eVRvZ2dsZUNvbXBvbmVudCB9IGZyb20gJy4uL25neC1wcmV0dHktdG9nZ2xlL25neC1wcmV0dHktdG9nZ2xlLmNvbXBvbmVudCc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ25neC1wcmV0dHktY2hlY2tib3g6bm90KFt3aWxsLWNoYW5nZV0pLCBwLWNoZWNrYm94Om5vdChbd2lsbC1jaGFuZ2VdKScsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL25neC1wcmV0dHktY2hlY2tib3guY29tcG9uZW50Lmh0bWwnLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgaG9zdDoge1xyXG4gICAgJ2NsYXNzJzogJ3ByZXR0eScsXHJcbiAgICAnW2NsYXNzLnAtbG9ja2VkXSc6ICdsb2NrJ1xyXG4gIH0sXHJcbiAgZXhwb3J0QXM6ICduZ3hQcmV0dHlDaGVja2JveCdcclxufSlcclxuZXhwb3J0IGNsYXNzIE5neFByZXR0eUNoZWNrYm94Q29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XHJcblxyXG4gIEBJbnB1dCgpIGNoZWNrZWQgPSBmYWxzZTtcclxuICBASW5wdXQoKSBkaXNhYmxlZCA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIHZhbHVlOiBhbnk7XHJcblxyXG5cclxuICAvLyBASG9zdEJpbmRpbmcoYGNsYXNzLnAtbG9ja2VkYClcclxuICBASW5wdXQoKSBsb2NrID0gZmFsc2U7XHJcblxyXG5cclxuICBAVmlld0NoaWxkKCdpbnB1dEVsZW0nLCB7IHN0YXRpYzogdHJ1ZSB9KSBwcml2YXRlIF9pbnB1dEVsZW06IEVsZW1lbnRSZWY7XHJcbiAgQFZpZXdDaGlsZCgnc3RhdGVFbGVtJywgeyBzdGF0aWM6IGZhbHNlIH0pIHByaXZhdGUgX3N0YXRlRWxlbTogRWxlbWVudFJlZjtcclxuXHJcbiAgQE91dHB1dCgpIGNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8UHJldHR5Q2hlY2tCb3hDaGFuZ2U+KCk7XHJcblxyXG5cclxuICBAQ29udGVudENoaWxkKE5neFByZXR0eUljb25EaXJlY3RpdmUsIHtzdGF0aWM6IGZhbHNlfSkgcHJpdmF0ZSBfaWNvbkRpcjogTmd4UHJldHR5SWNvbkRpcmVjdGl2ZTtcclxuICBAQ29udGVudENoaWxkKE5neFByZXR0eVN2Z0RpcmVjdGl2ZSwge3N0YXRpYzogZmFsc2V9KSBwcml2YXRlIF9zdmdEaXI6IE5neFByZXR0eVN2Z0RpcmVjdGl2ZTtcclxuICBAQ29udGVudENoaWxkKE5neFByZXR0eUltYWdlRGlyZWN0aXZlLCB7c3RhdGljOiBmYWxzZX0pIHByaXZhdGUgX2ltZ0RpcjogTmd4UHJldHR5SW1hZ2VEaXJlY3RpdmU7XHJcblxyXG4gIEBDb250ZW50Q2hpbGQoTmd4UHJldHR5SG92ZXJDb21wb25lbnQsIHtzdGF0aWM6IGZhbHNlfSkgcHJpdmF0ZSBfaG92ZXJEaXI6IE5neFByZXR0eUhvdmVyQ29tcG9uZW50O1xyXG4gIEBDb250ZW50Q2hpbGQoTmd4UHJldHR5SG92ZXJXaWxsQ2hhbmdlQ29tcG9uZW50LCB7c3RhdGljOiBmYWxzZX0pIHByaXZhdGUgX2hvdmVyV2lsbENoYW5nZURpcjogTmd4UHJldHR5SG92ZXJXaWxsQ2hhbmdlQ29tcG9uZW50O1xyXG5cclxuICBAQ29udGVudENoaWxkKE5neFByZXR0eUluZGV0ZXJtaW5hdGVDb21wb25lbnQsIHtzdGF0aWM6IGZhbHNlfSkgcHJpdmF0ZSBfaW5kZXRlcm1pbmF0ZURpcjogTmd4UHJldHR5SW5kZXRlcm1pbmF0ZUNvbXBvbmVudDtcclxuICBAQ29udGVudENoaWxkKE5neFByZXR0eUluZGV0ZXJtaW5hdGVXaWxsQ2hhbmdlQ29tcG9uZW50LCB7c3RhdGljOiBmYWxzZX0pIHByaXZhdGUgX2luZGV0ZXJtaW5hdGVXaWxsQ2hhbmdlRGlyOiBOZ3hQcmV0dHlJbmRldGVybWluYXRlV2lsbENoYW5nZUNvbXBvbmVudDtcclxuXHJcbiAgQENvbnRlbnRDaGlsZHJlbihOZ3hQcmV0dHlUb2dnbGVDb21wb25lbnQpIHB1YmxpYyBfdG9nZ2xlQ29tcHM6IFF1ZXJ5TGlzdDxOZ3hQcmV0dHlUb2dnbGVDb21wb25lbnQ+O1xyXG4gIEBDb250ZW50Q2hpbGRyZW4oTmd4UHJldHR5VG9nZ2xlV2lsbENoYW5nZUNvbXBvbmVudCkgcHVibGljIF90b2dnbGVXaWxsQ2hhbmdlQ29tcHM6IFF1ZXJ5TGlzdDxOZ3hQcmV0dHlUb2dnbGVXaWxsQ2hhbmdlQ29tcG9uZW50PjtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcjIsXHJcbiAgICBwcml2YXRlIGVsOiBFbGVtZW50UmVmLFxyXG4gICAgcHJpdmF0ZSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYsXHJcblxyXG4gICAgQEF0dHJpYnV0ZSgnc3Ryb2tlJykgICAgICBwcml2YXRlIF9zdHJva2U6IFByZXR0eUNoZWNrYm94U3Ryb2tlLFxyXG4gICAgQEF0dHJpYnV0ZSgnc2hhcGUnKSAgICAgICBwcml2YXRlIF9zaGFwZTogUHJldHR5Q2hlY2tib3hTaGFwZSxcclxuICAgIEBBdHRyaWJ1dGUoJ2FuaW1hdGlvbicpICAgcHJpdmF0ZSBfYW5pbWF0aW9uOiBQcmV0dHlDaGVja2JveEFuaW1hdGlvbixcclxuICAgIEBBdHRyaWJ1dGUoJ2lzU3dpdGNoJykgICAgcHJpdmF0ZSBfaXNTd2l0Y2ggPSBmYWxzZSxcclxuICAgIEBBdHRyaWJ1dGUoJ2JpZ2dlcicpICAgICAgcHJpdmF0ZSBfYmlnZ2VyID0gZmFsc2UsXHJcbiAgICBAQXR0cmlidXRlKCdlbmFibGVGb2N1cycpIHByaXZhdGUgX2VuYWJsZUZvY3VzID0gZmFsc2UsXHJcbiAgICBAQXR0cmlidXRlKCdwbGFpbicpICAgICAgIHByaXZhdGUgX3BsYWluID0gZmFsc2UsXHJcblxyXG4gICAgQEF0dHJpYnV0ZSgnb3V0bGluZScpIHByaXZhdGUgX291dGxpbmUgPSBmYWxzZSxcclxuICAgIEBBdHRyaWJ1dGUoJ2NvbG9yJykgICBwcml2YXRlIF9jb2xvcjogUHJldHR5Q2hlY2tib3hDb2xvcixcclxuICApIHtcclxuICAgICAgdGhpcy5faXNTd2l0Y2ggICAgPSBzdHJUb0Jvb2xlYW4odGhpcy5faXNTd2l0Y2gpO1xyXG4gICAgICB0aGlzLl9iaWdnZXIgICAgICA9IHN0clRvQm9vbGVhbih0aGlzLl9iaWdnZXIpO1xyXG4gICAgICB0aGlzLl9lbmFibGVGb2N1cyA9IHN0clRvQm9vbGVhbih0aGlzLl9lbmFibGVGb2N1cyk7XHJcbiAgICAgIHRoaXMuX3BsYWluICAgICAgID0gc3RyVG9Cb29sZWFuKHRoaXMuX3BsYWluKTtcclxuICAgICAgdGhpcy5fb3V0bGluZSAgICAgPSBzdHJUb0Jvb2xlYW4odGhpcy5fb3V0bGluZSk7XHJcbiAgfVxyXG5cclxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XHJcbiAgICBjb25zdCBlbCA9IHRoaXMuZWwubmF0aXZlRWxlbWVudDtcclxuXHJcbiAgICBpZiAodGhpcy5faXNTd2l0Y2gpICAgIHsgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyhlbCwgYHAtc3dpdGNoYCk7IH1cclxuICAgIGlmICh0aGlzLl9iaWdnZXIpICAgICAgeyB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKGVsLCBgcC1iaWdnZXJgKTsgfVxyXG4gICAgaWYgKHRoaXMuX2VuYWJsZUZvY3VzKSB7IHRoaXMucmVuZGVyZXIuYWRkQ2xhc3MoZWwsIGBwLWhhcy1mb2N1c2ApOyB9XHJcbiAgICBpZiAodGhpcy5fcGxhaW4pICAgICAgIHsgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyhlbCwgYHAtcGxhaW5gKTsgfVxyXG5cclxuICAgIGlmICh0aGlzLl9zdHJva2UpICAgICB7IHRoaXMucmVuZGVyZXIuYWRkQ2xhc3MoZWwsIGBwLSR7dGhpcy5fc3Ryb2tlfWApOyB9XHJcbiAgICBpZiAodGhpcy5fc2hhcGUpICAgICAgeyB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKGVsLCBgcC0ke3RoaXMuX3NoYXBlfWApOyB9XHJcbiAgICBpZiAodGhpcy5fYW5pbWF0aW9uKSAgeyB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKGVsLCBgcC0ke3RoaXMuX2FuaW1hdGlvbn1gKTsgfVxyXG5cclxuICAgIGlmICh0aGlzLl9pY29uRGlyKSAgICAgICAgICB7IHRoaXMucmVuZGVyZXIuYWRkQ2xhc3MoZWwsIGBwLWljb25gKTsgfVxyXG4gICAgaWYgKHRoaXMuX3N2Z0RpcikgICAgICAgICAgIHsgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyhlbCwgYHAtc3ZnYCk7IH1cclxuICAgIGlmICh0aGlzLl9pbWdEaXIpICAgICAgICAgICB7IHRoaXMucmVuZGVyZXIuYWRkQ2xhc3MoZWwsIGBwLWltYWdlYCk7IH1cclxuXHJcbiAgICBpZiAodGhpcy5faG92ZXJEaXIgfHwgdGhpcy5faG92ZXJXaWxsQ2hhbmdlRGlyKSB7XHJcbiAgICAgIHRoaXMucmVuZGVyZXIuYWRkQ2xhc3MoZWwsIGBwLWhhcy1ob3ZlcmApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLl9pbmRldGVybWluYXRlRGlyIHx8IHRoaXMuX2luZGV0ZXJtaW5hdGVXaWxsQ2hhbmdlRGlyKSB7XHJcbiAgICAgIHRoaXMucmVuZGVyZXIuYWRkQ2xhc3MoZWwsIGBwLWhhcy1pbmRldGVybWluYXRlYCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX2lzVG9nZ2xlKSB7IHRoaXMucmVuZGVyZXIuYWRkQ2xhc3MoZWwsIGBwLXRvZ2dsZWApOyB9XHJcblxyXG4gICAgaWYgKCF0aGlzLl9pc1N3aXRjaCAmJiAhdGhpcy5faWNvbkRpciAmJiAhdGhpcy5fc3ZnRGlyICYmICF0aGlzLl9pbWdEaXIpIHtcclxuICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyhlbCwgYHAtZGVmYXVsdGApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNUQVRFIEVMRU1cclxuICAgIGlmICh0aGlzLl9jb2xvciAmJiAhdGhpcy5faXNUb2dnbGUpIHtcclxuICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLl9zdGF0ZUVsZW0ubmF0aXZlRWxlbWVudCxcclxuICAgICAgICBgcC0ke3RoaXMuX2NvbG9yfSR7dGhpcy5fb3V0bGluZSA/ICctbycgOiAnJ31gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcblxyXG4gIC8vIC0tLS0tLS0tLS0gUFJJVkFURSBNRVRIT0RTIC0tLS0tLS0tLVxyXG4gIHB1YmxpYyBfb25DaGFuZ2UoZXZlbnQ6IEV2ZW50LCBjaGVja2VkOiBib29sZWFuLCB2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAvLyBJIHN0b3AgcHJvcGFnYXRpb24gb24gdGhlIGNoYW5nZSBldmVudC5cclxuICAgIC8vIE90aGVyd2lzZSB0aGUgY2hhbmdlIGV2ZW50LCBmcm9tIHRoZSBpbnB1dCBlbGVtZW50LCB3aWxsIGJ1YmJsZSB1cCBhbmRcclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgdGhpcy5jaGVja2VkID0gY2hlY2tlZDtcclxuICAgIHRoaXMuY2hhbmdlLmVtaXQoeyB2YWx1ZSwgY2hlY2tlZCwgZXZlbnQgfSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IF9pc1RvZ2dsZSgpIHsgcmV0dXJuIHRoaXMuX3RvZ2dsZUNvbXBzLmxlbmd0aCA9PT0gMiB8fCB0aGlzLl90b2dnbGVXaWxsQ2hhbmdlQ29tcHMubGVuZ3RoID09PSAyOyB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0gUFVCTElDIE1FVEhPRFMgLS0tLS0tLS0tXHJcbiAgcHVibGljIHNldEluZGV0ZXJtaW5hdGUodmFsdWUgPSB0cnVlKSB7XHJcbiAgICB0aGlzLl9pbnB1dEVsZW0ubmF0aXZlRWxlbWVudC5pbmRldGVybWluYXRlID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZm9yY2VDaGVjayhjaGVjazogYm9vbGVhbikge1xyXG4gICAgdGhpcy5jaGVja2VkID0gY2hlY2s7XHJcbiAgICB0aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xyXG4gIH1cclxuXHJcbn1cclxuIl19